# 要件定義書

## 1. 概要
- **アプリケーション名**: omu（生成AI情報共有プラットフォーム）
- **目的**: 生成AIのプロンプト、記事、会話履歴を共有するQiita風のWebアプリ。ターゲット: 生成AIユーザー（情報発信者中心、閲覧者はリテラシー高め）。
- **プラットフォーム**: Webアプリ（レスポンシブ対応、モバイルフレンドリー）。
- **MVP範囲**: プロンプト投稿/共有、生成AI記事投稿、会話共有のコア機能。拡張はユーザー要望次第。
- **UI/UXガイドライン**: Markdownベースの投稿、ダークモード対応。シンプルでごちゃごちゃしないデザイン（例: 検索UIは直感的）。トップページはNote風に横並びレイアウト（全体人気順、記事人気順、プロンプト人気順、会話人気順のセクションを横に並べる）。
- **新追加: 管理者機能**: 管理者ユーザー（あなた自身）がユーザー作成/削除、投稿削除を行える。管理者専用ダッシュボードを設け、セキュリティを強化。

## 2. ターゲットユーザー
- 主なユーザー: 生成AI情報をQiita/Zenn/Xで投稿/閲覧する人（開発者、クリエイターなど）。
- 発信者: プロンプト/記事/会話を投稿。
- 閲覧者: リテラシー高め（例: Taichi Okadaのような情報収集者）。
- **管理者**: プラットフォームオーナー（あなた）。ユーザー/投稿の管理権限を持つ。

## 3. 機能要件
### 3.1 コア機能 (MVP)
- **記事投稿/共有**:
  - Markdownベースで投稿（Obsidian互換、画像/コード埋め込みサポート）。
  - タイトル: 必須、1-100文字。
  - 本文: 必須、1-10,000文字。
  - タグ付け: ユーザー定義のタグを複数付け可能（Zenn/Qiita風、例: #ChatGPT, #プロンプト）。上限: 5個。
  - 記事内にプロンプトを埋め込み可能（Markdownで引用やコードブロック使用）。
  - 投稿後: 公開（編集/削除可能）。
- **プロンプト投稿/共有**:
  - 別投稿タイプ（記事とは独立）。
  - タイトル: 必須、1-100文字（例: "ChatGPTでマーケティングアイデア生成プロンプト"）。
  - 本文: プロンプトテキスト（Markdownサポート、1-10,000文字）。
  - カテゴリ/タグ: タグ付け可能（記事と同じ、上限5個）。
  - 投稿後: 公開（編集/削除可能）。
- **会話共有**:
  - 別投稿タイプ。
  - 共有方法: URL共有（プラットフォーム内でリンク生成）とテキストログのコピー&ペースト（MVP）。JSONインポートは将来拡張。
  - プラットフォーム選択: 投稿時に選択可能（ChatGPT, Claude, Gemini, Grokなど、ドロップダウンリスト）。
  - 閲覧UI: チャット形式で表示（テキストベース、編集不可、プラットフォーム外閲覧はプラットフォーム内で完結）。
  - タグ付け: 可能（記事と同じ、上限5個）。
  - タイトル/本文: 記事と同じ制限。

### 3.2 投稿フォームUI
- 記事/プロンプト/会話の投稿フォーム: タブで切り替え（単一ページ内）。

### 3.3 コミュニティ機能
- **いいね**: 投稿に対して可能（カウント表示）。人気表示の基準として使用。
- **シェア**: Twitterシェアボタン。
- **フォロー**: ユーザー間フォロー可能（フォローしたユーザーの新着投稿をフィード表示）。
- **お気に入り**: 登録ユーザーのみ、投稿をお気に入り登録。ユーザーページから一覧表示（ブックマークなし）。
- **検索**: キーワード/タグ検索サポート。ソート（新着順、人気順）。フィルター（投稿タイプ別、タグ別）。UI: シンプル（検索バー + 自動サジェスト（タグ提案） + ドロップダウンフィルターで隠す）。トレース元: Qiitaの検索UI（トップ検索バー、結果ページにサイドフィルター）を基に、ごちゃごちゃを避けるためにフィルターを折りたたみ式に。
- **トップページ**: 人気記事/プロンプト/会話を表示（いいね数ベース、トップ5程度）。Note風横並びレイアウト（全体人気セクション、記事人気セクション、プロンプト人気セクション、会話人気セクションを横スライド可能に）。
- **通知**: なし。

### 3.4 ユーザー管理
- **登録/認証**: 閲覧のみ: 不要。投稿/お気に入り/フォロー: 必須。
  - 方法: メールアドレス、Googleログイン、GitHubログイン。
- **プロファイル**: ユーザー名、投稿一覧、お気に入り一覧。
- **公開範囲**: 全投稿パブリック（プライベートなし）。

### 3.5 データ管理
- **投稿編集/削除**: 投稿者本人のみ可能（管理者除く）。
- **モデレーション**: 報告機能（スパム対策）。

### 3.6 管理者機能
- **管理者ダッシュボード**: 管理者専用ページ（認証後アクセス）。UI: シンプルリスト表示（ユーザー一覧、投稿一覧）。
- **ユーザー管理**:
  - ユーザー作成: 新規ユーザー登録（メール/ユーザー名/パスワード設定）。
  - ユーザー削除: 任意ユーザーを削除（関連投稿/データもカスケード削除）。
- **投稿管理**:
  - 投稿削除: 任意投稿を削除（スパム/違反対応）。
- **管理者識別**: ユーザー登録時にis_adminフラグを設定（初期管理者: あなたの手動設定）。
- **アクセス制御**: 管理者以外はダッシュボード非表示/アクセス拒否。

### 3.7 将来拡張
- Zenn Books風（記事コレクション）、X Community風（グループディスカッション）: 優先度低。
- その他: ユーザー要望次第（例: 自動評価、バイアス検出なし）。

## 4. 非機能要件
- **UI/UX**:
  - Markdownエディタ: プレビュー機能付き。
  - レスポンシブ: モバイル対応。
  - ダークモード: 対応。
  - バリデーション: タイトル/本文必須、空投稿防止、文字数制限。
  - アクセシビリティ: 最低限（キーボード操作、altテキスト）。
- **パフォーマンス**: ページロード速く（具体目標なし）。
- **セキュリティ**:
  - HTTPS: 必須。
  - パスワードハッシュ化。
  - CAPTCHA: 登録/投稿時。
  - データ暗号化: DB保存時。
  - 利用規約: 初回同意画面（内容: Qiita/Zenn/Noteを基に合成。詳細は後述）。
  - 保存データ: ユーザーID/名/メール、投稿内容（テキスト/タイトル、タグ、画像URL）、いいね/フォロー関係、お気に入りリスト。会話ログ: テキスト。管理者フラグ: is_admin (boolean)。
  - GDPR: 不要（日本対象）。
  - 管理者セキュリティ: ロールベースアクセス制御（RBAC）、管理者操作ログ記録（オプション）。
- **運用**: Webアプリ、AI連携なし。
- **初期ユーザー獲得策**: 低コスト/スモールスタート向け（一人運用）。X投稿でプラットフォームを宣伝（例: 生成AIユーザー向けハッシュタグ#生成AI共有で投稿）、Qiita/Zenn/Xの既存コミュニティに共有（クロスポスト）、SEO最適化（記事タイトルにキーワード入れ）、友人/知人招待（メールシェア）。コストゼロで開始可能。

## 5. 利用規約概要（Qiita/Zenn/Noteトレース + 追加）
Qiita/Zenn/Noteの利用規約を基に合成。キーセクション:
- **ユーザー責任**: ユーザーは投稿内容の正確性/合法性を保証。認証情報管理は自己責任。外部サービス連携のトラブルは自己責任。
- **コンテンツ所有権**: 投稿コンテンツの著作権はユーザーに帰属するが、プラットフォームに非独占的ライセンスを付与（表示/配布/編集権）。
- **禁止コンテンツ**: 法令違反（著作権侵害、プライバシー侵害、詐欺）、公序良俗違反（差別、暴力的表現、性的コンテンツ）、スパム/広告、違法コンテンツ（明確に記載: 犯罪関連、個人情報漏洩、ハラスメント）。
- **AI生成コンテンツ/会話共有**: AI生成物（AI生成の対話履歴を含む）の共有は自己責任。プラットフォームは内容の正確性/合法性を保証せず、ユーザーが責任を負う。読む側もAI生成物の使用は自己責任。
- **責任免責**: プラットフォームはサービス欠陥/データ損失/第三者争議について責任を負わず、ユーザーは自己責任で使用。損害賠償は免責。
- **その他**: 規約変更可能、準拠法: 日本法。

## 6. 制約/仮定
- MVPリリース: 未指定（ユーザー作り優先）。
- 技術スタック: 詳細設計参照。